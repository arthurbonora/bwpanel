#!/bin/bash
VERSION="1.0.0"
BUILD_DATE="2025-10-22"
AUTHOR="Bonora SoluÃ§Ãµes Web"
REPO_URL="https://raw.githubusercontent.com/arthurbonora/bwpanel/main/version.txt"

echo ""
echo "============================================="
echo "        ðŸŒ BWPanel CLI - Version Info"
echo "============================================="
echo ""
echo "VersÃ£o local: $VERSION"
echo "Compilado em: $BUILD_DATE"
echo "Autor:        $AUTHOR"
echo ""

check_update() {
    echo "ðŸ” Verificando atualizaÃ§Ãµes no repositÃ³rio oficial..."
    LATEST_VERSION=$(curl -s "$REPO_URL" | head -n 1)

    if [ -z "$LATEST_VERSION" ]; then
        echo "âš ï¸  NÃ£o foi possÃ­vel verificar a versÃ£o online (sem conexÃ£o ou repositÃ³rio offline)."
    else
        if [ "$LATEST_VERSION" != "$VERSION" ]; then
            echo "ðŸš€ Nova versÃ£o disponÃ­vel: $LATEST_VERSION"
            echo "Atualize com:"
            echo "  sudo bwpanel-update"
        else
            echo "âœ… VocÃª jÃ¡ estÃ¡ na versÃ£o mais recente."
        fi
    fi
    echo ""
}

check_update

echo "Sistema:"
echo "  OS: $(lsb_release -ds 2>/dev/null || echo 'Desconhecido')"
echo "  Kernel: $(uname -r)"
echo "  PHP: $(php -v | head -n 1)"
echo "  MariaDB: $(mariadb --version | head -n 1)"
echo "  Nginx: $(nginx -v 2>&1 | cut -d'/' -f2)"
echo ""
echo "============================================="
echo ""
